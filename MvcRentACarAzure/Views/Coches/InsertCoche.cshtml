@{
	List<Marchas> marchas = ViewData["marchas"] as List<Marchas>;
	List<Gama> gamas = ViewData["gamas"] as List<Gama>;
	List<Combustible> combustibles = ViewData["combustibles"] as List<Combustible>;
}
@await Html.PartialAsync("_ErrorModal")

@await Html.PartialAsync("_SuccessModal")
<div class="container">
	<div class="card my-4">
		<div class="card-header">
			<h1>Inserta un nuevo coche</h1>
		</div>
		<div class="card-body">
			<form method="post" enctype="multipart/form-data" id="carForm">
				<div class="row mb-3">
					<div class="col-md-6 input-group">
						<label for="marca" class="form-label input-group-text">Marca:</label>
						<input type="text" id="marca" name="marca" class="form-control" required />
					</div>
					<div class="col-md-6 input-group">
						<label for="modelo" class="form-label input-group-text">Modelo:</label>
						<input type="text" id="modelo" name="modelo" class="form-control" required />
					</div>
				</div>
				<div class="row mb-3">
					<div class="col-md-6 input-group">
						<label for="matricula" class="form-label input-group-text">Matricula:</label>
						<input type="text" id="matricula" name="matricula" class="form-control" pattern="^[0-9]{4}[BCDFGHJKLMNPQRSTVWXYZbcdfghjklmnpqrstvwxyz]{3}$" required />
					</div>
					<div class="col-md-6 input-group">
						<label for="puertas" class="form-label input-group-text">Puertas:</label>
						<input type="number" id="puertas" name="puertas" class="form-control" required />
					</div>
				</div>
				<div class="row mb-3">
					<div class="col-md-6 input-group">
						<label for="asientos" class="form-label input-group-text">Asientos:</label>
						<input type="number" id="asientos" name="asientos" class="form-control" required />
					</div>
					<div class="col-md-6 input-group">
						<label for="kilometraje" class="form-label input-group-text">Kilometraje:</label>
						<input type="number" id="kilometraje" name="kilometraje" class="form-control" required />
					</div>
				</div>
				<div class="row mb-3">
					<div class="col-md-6 input-group">
						<label for="preciokilometros" class="form-label input-group-text">Precio Kilometros:</label>
						<input type="text" id="preciokilometros" name="preciokilometros" class="form-control" required />
					</div>
					<div class="col-md-6 input-group">
						<label for="precioilimitado" class="form-label input-group-text">Precio kms Ilimitados:</label>
						<input type="text" id="precioilimitado" name="precioilimitado" class="form-control" required />
					</div>
				</div>
				<div class="row mb-3">
					<div class="col-md-4 input-group">
						<label for="idgama" class="form-label input-group-text">Gama:</label>
						<select id="idgama" name="idgama" class="form-select" required>
							@foreach (Gama gama in gamas)
							{
								<option value="@gama.IdGama">@gama.Nivel</option>
							}
						</select>
					</div>
					<div class="col-md-4 input-group">
						<label for="idmarchas" class="form-label input-group-text">Marcha:</label>
						<select id="idmarchas" name="idmarchas" class="form-select" required>
							@foreach (Marchas mar in marchas)
							{
								<option value="@mar.IdMarchas">@mar.Tipo</option>
							}
						</select>
					</div>
					<div class="col-md-4 input-group">
						<label for="idcombustible" class="form-label input-group-text">Tipo Combustible:</label>
						<select id="idcombustible" name="idcombustible" class="form-select" required>
							@foreach (Combustible com in combustibles)
							{
								<option value="@com.IdCombustible">@com.Tipo</option>
							}
						</select>
					</div>
				</div>
				<div class="row mb-3">
					<div class="col-md-6 input-group">
						<label for="fichero" class="form-label input-group-text">Seleccione una imagen:</label>
						<input type="file" id="fichero" name="fichero" class="form-control" required />
					</div>
				</div>
				<button type="submit" class="btn btn-primary">Insertar Coche</button>
			</form>
		</div>
	</div>
</div>
@section Scripts {
	<script>
		$(document).ready(function () {
			$('#errorModal').modal('show');
			$('#successModal').modal('show');
		});
	</script>
}
